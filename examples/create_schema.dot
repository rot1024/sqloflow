digraph sqloflow {
  rankdir=LR;
  node [shape=box, style=rounded];

  // Schema view with snapshots
  node_0 [label="products", fillcolor=lightblue, style="filled,rounded"];
  node_1 [label="id", fillcolor=lightcoral, style="filled,rounded", shape=ellipse];
  node_2 [label="name", fillcolor=lightcoral, style="filled,rounded", shape=ellipse];
  node_3 [label="price", fillcolor=lightcoral, style="filled,rounded", shape=ellipse];
  subgraph cluster_0 {
    label="Schema Snapshot 1";
    style=filled;
    fillcolor=lightgray;
    // Relations: products
    node_4 [label="FROM", fillcolor=lightgreen, style="filled,rounded"];
  }
  subgraph cluster_1 {
    label="Schema Snapshot 2";
    style=filled;
    fillcolor=lightgray;
    // Relations: products
    node_5 [label="WHERE", fillcolor=lightyellow, style="filled,rounded"];
  }
  subgraph cluster_2 {
    label="Schema Snapshot 3";
    style=filled;
    fillcolor=lightgray;
    // Relations: _result
    node_6 [label="SELECT", fillcolor=lightgreen, style="filled,rounded"];
  }

  // Schema transformation edges
  node_0 -> node_1 [color=green, style=dotted];
  node_0 -> node_2 [color=green, style=dotted];
  node_0 -> node_3 [color=green, style=dotted];
  node_0 -> node_4 [color=black];
  node_4 -> node_5 [color=black, label="schema change"];
  node_5 -> node_6 [color=black, label="schema change"];
}