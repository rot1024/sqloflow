flowchart LR
    node_0[FROM products]
    node_1["WHERE<br/>---<br/>status = 'active' AND price &gt; 10"]
    node_2["GROUP BY<br/>---<br/>category"]
    node_3["HAVING<br/>---<br/>COUNT(*) &gt; 5"]
    node_4["SELECT<br/>---<br/>category<br/>COUNT(*) AS total_products<br/>AVG(price) AS avg_price<br/>MAX(price) AS max_price"]
    node_5["ORDER BY total_products DESC, avg_price ASC"]
    node_6["LIMIT 10 OFFSET 20"]
    node_0 --> node_1
    node_1 --> node_2
    node_2 --> node_3
    node_3 --> node_4
    node_4 --> node_5
    node_5 --> node_6