┌───────────────┐    ┌──────────────────────────────────┐    ┌───────────┐    ┌──────────────┐    ┌────────────────┐    ┌─────────────────────────────────────────────┐    ┌────────────────────┐ 
│ FROM products │─ ┐ │              WHERE               │    │ GROUP BY  │    │    HAVING    │    │     SELECT     │  ┌▶│ ORDER BY total_products DESC, avg_price ASC │───▶│ LIMIT 10 OFFSET 20 │ 
└───────────────┘  └▶│            ─────────             │───▶│ ───────── │───▶│  ─────────   │─ ┐ │   ─────────    │  │ └─────────────────────────────────────────────┘    └────────────────────┘ 
                     │ status = 'active' AND price > 10 │    │ category  │    │ COUNT(*) > 5 │  │ │    category    │  │                                                                           
                     └──────────────────────────────────┘    └───────────┘    └──────────────┘  └▶│ total_products │─ ┘                                                                           
                                                                                                  │   avg_price    │                                                                              
                                                                                                  │   max_price    │                                                                              
                                                                                                  └────────────────┘                                                                              
                                                                                                                                                                                                  